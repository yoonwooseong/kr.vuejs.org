


<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Packaging Vue Components for npm — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">
    <link rel="alternate" hreflang="es" href="https://es.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Packaging Vue Components for npm — Vue.js">
    <meta property="og:description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta property="og:image" content="https://vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Packaging Vue Components for npm — Vue.js">
    <meta name="twitter:description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta name="twitter:image" content="https://vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://maxcdn.bootstrapcdn.com" rel="preconnect" crossorigin>

    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono&display=swap' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js&display=swap' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    
<link rel="stylesheet" href="/css/page.css">


    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>

    

    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "cookbook"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-89623208-1', 'vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  <meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="Vue.js" type="application/atom+xml">
</head>
  <body class="docs">
    <div id="mobile-bar" style="pointer-events: none;" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    

    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png" alt="vue logo">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    
<li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" aria-label="Search">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">배우기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>문서</h4></li>
    <li>
      <ul>
        <li><a href="/v2/guide/" class="nav-link">가이드</a></li>
        <li><a href="/v2/api/" class="nav-link">API</a></li>
        <li><a href="/v2/style-guide/" class="nav-link">스타일 가이드</a></li>
        <li><a href="/v2/examples/" class="nav-link">예시</a></li>
        <li><a href="/v2/cookbook/" class="nav-link current">쿡북</a></li>
        <li><a target="_blank" rel="noopener" href="https://v3.vuejs-korea.org/ko-KR/" class="nav-lin>">Vue.js 3 한국어문서</a></li>
      </ul>
    </li>
    <li><h4>영상 강의</h4></li>
    <li>
      <ul>
        <li>
          <a href="https://www.vuemastery.com/courses/" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue Mastery
          </a>
        </li>
        <li>
          <a
            href="https://vueschool.io/?friend=vuejs&utm_source=Vuejs.org&utm_medium=Link&utm_content=Navbar%20Dropdown"
            class="nav-link"
            target="_blank" rel="sponsored noopener"
          >
            Vue School
          </a>
        </li>
      </ul>
    </li>

  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">생태계</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>도움</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org/" class="nav-link"  target="_blank" rel="noopener">포럼</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link"  target="_blank" rel="noopener">채팅</a></li>
      <li><a href="https://events.vuejs.org/meetups/" class="nav-link" target="_blank" rel="noopener">모임</a></li>
    </ul></li>
    <li><h4>도구</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank" rel="noopener">개발도구</a></li>
        <li><a href="https://cli.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue CLI</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank" rel="noopener">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>코어 라이브러리</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue 라우터</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue 서버 렌더러</a></li>
    </ul></li>
    <li><h4>뉴스</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank" rel="noopener">주간 뉴스</a></li>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank" rel="noopener">로드맵</a></li>
      <li><a href="https://events.vuejs.org/" class="nav-link" target="_blank" rel="noopener">이벤트</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank" rel="noopener">트위터</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank" rel="noopener">블로그</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank" rel="noopener">구인</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank" rel="noopener">개발 커뮤니티</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">팀</a>
</li>
<li class="nav-dropdown-container resources">
  <a href="#" class="nav-link">리소스</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/resources/partners.html" class="nav-link">파트너</a></li>
    <li><a href="/resources/themes.html" class="nav-link">테마</a></li>
    <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank" rel="noopener">쩌는 Vue</a></li>
  </ul>
</li>

<!-- <li>
  <a href="/partners" class="nav-link ">Partners</a>
</li> -->
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Vue 후원하기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">1회 후원하기</a></li>
    <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">정기후원</a></li>
    <li><a href="https://vue.threadless.com" target="_blank" rel="noopener" class="nav-link">티셔츠 샵</a></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">다른 언어로 보기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">Русский</a></li>
    <li><a href="https://br.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">Français</a></li>
    <li><a href="https://vi.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener">Tiếng Việt</a></li>
    <li><a href="https://es.vuejs.org/v2/cookbook/packaging-sfc-for-npm.html" class="nav-link" target="_blank" rel="noopener" rel="noopener">Español</a></li>
  </ul>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
  

<div class="sidebar">
  <div class="sidebar-inner">
    
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>스페셜 스폰서</span>
    <div>
    <a href="https://stdlib.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/stdlib.png" alt="Standard Library">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>플래티넘 스폰서</span>
    <div>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/nativescript.png" alt="NativeScript">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    스폰서 되기
  </a>
</div>



      
        <h2>
          
          쿡북<sup class="beta">beta</sup>
          
        </h2>
        <ul class="menu-root">
  
    
    
    <li>
      <a href="/v2/cookbook/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/adding-instance-properties.html" class="sidebar-link">인스턴스 프로퍼티 추가하기</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/form-validation.html" class="sidebar-link">Form Validation</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/editable-svg-icons.html" class="sidebar-link">Editable SVG Icon Systems</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/serverless-blog.html" class="sidebar-link">Create a CMS-Powered Blog</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/unit-testing-vue-components.html" class="sidebar-link">Unit Testing Vue Components</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/creating-custom-scroll-directives.html" class="sidebar-link">Creating Custom Scroll Directives</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/debugging-in-vscode.html" class="sidebar-link">Debugging in VS Code</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/using-axios-to-consume-apis.html" class="sidebar-link">Using Axios to Consume APIs</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/avoiding-memory-leaks.html" class="sidebar-link">Avoiding Memory Leaks</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/client-side-storage.html" class="sidebar-link">Client-Side Storage</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/packaging-sfc-for-npm.html" class="sidebar-link current">Packaging Vue Components for npm</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/dockerize-vuejs-app.html" class="sidebar-link">Dockerize Vue.js App</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/practical-use-of-scoped-slots.html" class="sidebar-link">Practical use of scoped slots with GoogleMaps</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>플래티넘 스폰서</span>
    <div>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/nativescript.png" alt="NativeScript">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    스폰서 되기
  </a>
</div>




<div class="content cookbook with-sidebar ">
  
    
      
<div id="ad">
  <script
    async
    type="text/javascript"
    src="//cdn.carbonads.com/carbon.js?serve=CKYIK2QU&placement=vuejsorg"
    id="_carbonads_js">
  </script>
</div>


    
  
  
    <h1>Packaging Vue Components for npm</h1>
  
  
    <h2 id="Base-Example"><a href="#Base-Example" class="headerlink" title="Base Example"></a>Base Example</h2><p>Vue components by nature are meant to be re-used. This is easy when the component is only used within a single application. But how can you write a component once and use it in multiple sites/applications? Perhaps the easiest solution is via npm.</p>
<p>By packaging your component to be shared via npm, it can be imported/required into a build process for use in full-fledged web applications:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> MyComponent <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;my-component&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  components: &#123;<br>    MyComponent,<br>  &#125;,<br>  <span class="hljs-comment">// rest of the component</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>Or even used via <code>&lt;script&gt;</code> tag in the browser directly:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vue&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/my-component&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>...<br><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">my-component</span>&gt;</span><br>...<br></code></pre></td></tr></table></figure>

<p>Not only does this help you avoid copy/pasting components around, but it also allows you to give back to the Vue community!</p>
<h2 id="Can’t-I-Just-Share-vue-Files-Directly"><a href="#Can’t-I-Just-Share-vue-Files-Directly" class="headerlink" title="Can’t I Just Share .vue Files Directly?"></a>Can’t I Just Share <code>.vue</code> Files Directly?</h2><p>Vue already allows components to be written as a single file. Because a Single File Component (SFC) is already just one file, you might ask:</p>
<blockquote>
<p>“Why can’t people use my <code>.vue</code> file directly? Isn’t that the simplest way to share components?”</p>
</blockquote>
<p>It’s true, you can share <code>.vue</code> files directly, and anyone using a <a href="https://vuejs.org/v2/guide/installation.html#Explanation-of-Different-Builds">Vue build</a> containing the Vue compiler can consume it immediately. Also, the SSR build uses string concatenation as an optimization, so the <code>.vue</code> file might be preferred in this scenario (see <a href="#SSR-Usage">Packaging Components for npm &gt; SSR Usage</a> for details). However, this excludes anyone who wishes to use the component directly in a browser via <code>&lt;script&gt;</code> tag, anyone who uses a runtime-only build, or build processes which don’t understand what to do with <code>.vue</code> files.</p>
<p>Properly packaging your SFC for distribution via npm enables your component to be shared in a way which is ready to use everywhere!</p>
<h2 id="Packaging-Components-for-npm"><a href="#Packaging-Components-for-npm" class="headerlink" title="Packaging Components for npm"></a>Packaging Components for npm</h2><p>For the purposes of this section, assume the following file structure:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><code class="hljs plain">package.json<br>build&#x2F;<br>   rollup.config.js<br>src&#x2F;<br>   wrapper.js<br>   my-component.vue<br>dist&#x2F;<br></code></pre></td></tr></table></figure>

<p class="tip">Throughout this document, references are made to the package.json file listed above. The file used in these examples was generated by hand, and will include the minimum configuration required for the discussion/task at hand. It is likely your own package.json file will contain a lot more than is listed here.</p>

<h3 id="How-does-npm-know-which-version-to-serve-to-a-browser-build-process"><a href="#How-does-npm-know-which-version-to-serve-to-a-browser-build-process" class="headerlink" title="How does npm know which version to serve to a browser/build process?"></a>How does npm know which version to serve to a browser/build process?</h3><p>The package.json file used by npm really only requires one version (<code>main</code>), but as it turns out, we aren’t limited to that. We can address the most common use cases by specifying 2 additional versions (<code>module</code> and <code>unpkg</code>), and provide access to the <code>.vue</code> file itself using the <code>browser</code> field. A sample package.json would look like this:</p>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;my-component&quot;</span>,<br>  <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;1.2.3&quot;</span>,<br>  <span class="hljs-attr">&quot;main&quot;</span>: <span class="hljs-string">&quot;dist/my-component.umd.js&quot;</span>,<br>  <span class="hljs-attr">&quot;module&quot;</span>: <span class="hljs-string">&quot;dist/my-component.esm.js&quot;</span>,<br>  <span class="hljs-attr">&quot;unpkg&quot;</span>: <span class="hljs-string">&quot;dist/my-component.min.js&quot;</span>,<br>  <span class="hljs-attr">&quot;browser&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;./sfc&quot;</span>: <span class="hljs-string">&quot;src/my-component.vue&quot;</span><br>  &#125;,<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure>

<p>When webpack 2+, Rollup, or other modern build tools are used, they will pick up on the <code>module</code> build. Legacy applications would use the <code>main</code> build, and the <code>unpkg</code> build can be used directly in browsers. In fact, the <a target="_blank" rel="noopener" href="https://unpkg.com/">unpkg</a> cdn automatically uses this when someone enters the URL for your module into their service!</p>
<h3 id="SSR-Usage"><a href="#SSR-Usage" class="headerlink" title="SSR Usage"></a>SSR Usage</h3><p>You might have noticed something interesting - browsers aren’t going to be using the <code>browser</code> version. That’s because this field is actually intended to allow authors to provide <a target="_blank" rel="noopener" href="https://github.com/defunctzombie/package-browser-field-spec#spec">hints to bundlers</a> which in turn create their own packages for client side use. With a little creativity, this field allows us to map an alias to the <code>.vue</code> file itself. For example:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> MyComponent <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;my-component/sfc&#x27;</span>; <span class="hljs-comment">// Note the &#x27;/sfc&#x27;</span><br></code></pre></td></tr></table></figure>

<p>Compatible bundlers see the <code>browser</code> definition in package.json and translate requests for <code>my-component/sfc</code> into <code>my-component/src/my-component.vue</code>, resulting in the original <code>.vue</code> file being used instead. Now the SSR process can use the string concatenation optimizations it needs to for a boost in performance.</p>
<p class="tip">Note: When using `.vue` components directly, pay attention to any type of pre-processing required by `script` and `style` tags. These dependencies will be passed on to users. Consider providing 'plain' SFCs to keep things as light as possible.</p>

<h3 id="How-do-I-make-multiple-versions-of-my-component"><a href="#How-do-I-make-multiple-versions-of-my-component" class="headerlink" title="How do I make multiple versions of my component?"></a>How do I make multiple versions of my component?</h3><p>There is no need to write your module multiple times. It is possible to prepare all 3 versions of your module in one step, in a matter of seconds. The example here uses <a target="_blank" rel="noopener" href="https://rollupjs.org/">Rollup</a> due to its minimal configuration, but similar configuration is possible with other build tools - more details on this decision can be found <a target="_blank" rel="noopener" href="https://medium.com/webpack/webpack-and-rollup-the-same-but-different-a41ad427058c">here</a>. The package.json <code>scripts</code> section can be updated with a single entry for each build target, and a more generic <code>build</code> script that runs them all in one pass. The sample package.json file now looks like this:</p>
<figure class="highlight"><table><tr><td class="code"><pre><code class="hljs json">&#123;<br>  <span class="hljs-attr">&quot;name&quot;</span>: <span class="hljs-string">&quot;my-component&quot;</span>,<br>  <span class="hljs-attr">&quot;version&quot;</span>: <span class="hljs-string">&quot;1.2.3&quot;</span>,<br>  <span class="hljs-attr">&quot;main&quot;</span>: <span class="hljs-string">&quot;dist/my-component.umd.js&quot;</span>,<br>  <span class="hljs-attr">&quot;module&quot;</span>: <span class="hljs-string">&quot;dist/my-component.esm.js&quot;</span>,<br>  <span class="hljs-attr">&quot;unpkg&quot;</span>: <span class="hljs-string">&quot;dist/my-component.min.js&quot;</span>,<br>  <span class="hljs-attr">&quot;browser&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;./sfc&quot;</span>: <span class="hljs-string">&quot;src/my-component.vue&quot;</span><br>  &#125;,<br>  <span class="hljs-attr">&quot;scripts&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;build&quot;</span>: <span class="hljs-string">&quot;npm run build:umd &amp; npm run build:es &amp; npm run build:unpkg&quot;</span>,<br>    <span class="hljs-attr">&quot;build:umd&quot;</span>: <span class="hljs-string">&quot;rollup --config build/rollup.config.js --format umd --file dist/my-component.umd.js&quot;</span>,<br>    <span class="hljs-attr">&quot;build:es&quot;</span>: <span class="hljs-string">&quot;rollup --config build/rollup.config.js --format es --file dist/my-component.esm.js&quot;</span>,<br>    <span class="hljs-attr">&quot;build:unpkg&quot;</span>: <span class="hljs-string">&quot;rollup --config build/rollup.config.js --format iife --file dist/my-component.min.js&quot;</span><br>  &#125;,<br>  <span class="hljs-attr">&quot;devDependencies&quot;</span>: &#123;<br>    <span class="hljs-attr">&quot;rollup&quot;</span>: <span class="hljs-string">&quot;^1.17.0&quot;</span>,<br>    <span class="hljs-attr">&quot;rollup-plugin-buble&quot;</span>: <span class="hljs-string">&quot;^0.19.8&quot;</span>,<br>    <span class="hljs-attr">&quot;rollup-plugin-commonjs&quot;</span>: <span class="hljs-string">&quot;^10.0.1&quot;</span>,<br>    <span class="hljs-attr">&quot;rollup-plugin-vue&quot;</span>: <span class="hljs-string">&quot;^5.0.1&quot;</span>,<br>    <span class="hljs-attr">&quot;vue&quot;</span>: <span class="hljs-string">&quot;^2.6.10&quot;</span>,<br>    <span class="hljs-attr">&quot;vue-template-compiler&quot;</span>: <span class="hljs-string">&quot;^2.6.10&quot;</span><br>    ...<br>  &#125;,<br>  ...<br>&#125;<br></code></pre></td></tr></table></figure>

<p class="tip">Remember, if you have an existing package.json file, it will likely contain a lot more than this one does. This merely illustrates a starting point. Also, the <i>packages</i> listed in devDependencies (not their versions) are the minimum requirements for rollup to create the three separate builds (umd, es, and unpkg) mentioned. As newer versions become available, they should be updated as necessary.</p>

<p>Our changes to package.json are complete. Next, we need a small wrapper to export/auto-install the actual SFC, plus a minimal Rollup configuration, and we’re set!</p>
<h3 id="What-does-my-packaged-component-look-like"><a href="#What-does-my-packaged-component-look-like" class="headerlink" title="What does my packaged component look like?"></a>What does my packaged component look like?</h3><p>Depending on how your component is being used, it needs to be exposed as either a <a target="_blank" rel="noopener" href="https://medium.freecodecamp.org/javascript-modules-a-beginner-s-guide-783f7d7a5fcc#c33a">CommonJS/UMD</a> javascript module, an <a target="_blank" rel="noopener" href="https://medium.freecodecamp.org/javascript-modules-a-beginner-s-guide-783f7d7a5fcc#4f5e">ES6 javascript</a> module, or in the case of a <code>&lt;script&gt;</code> tag, it will be automatically loaded into Vue via <code>Vue.use(...)</code> so it’s immediately available to the page. This is accomplished by a simple wrapper.js file which handles the module export and auto-install. That wrapper, in its entirety, looks like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Import vue component</span><br><span class="hljs-keyword">import</span> component <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./my-component.vue&#x27;</span>;<br><br><span class="hljs-comment">// Declare install function executed by Vue.use()</span><br><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">install</span>(<span class="hljs-params">Vue</span>) </span>&#123;<br>    <span class="hljs-keyword">if</span> (install.installed) <span class="hljs-keyword">return</span>;<br>    install.installed = <span class="hljs-literal">true</span>;<br>    Vue.component(<span class="hljs-string">&#x27;MyComponent&#x27;</span>, component);<br>&#125;<br><br><span class="hljs-comment">// Create module definition for Vue.use()</span><br><span class="hljs-keyword">const</span> plugin = &#123;<br>    install,<br>&#125;;<br><br><span class="hljs-comment">// Auto-install when vue is found (eg. in browser via &lt;script&gt; tag)</span><br><span class="hljs-keyword">let</span> GlobalVue = <span class="hljs-literal">null</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>    GlobalVue = <span class="hljs-built_in">window</span>.Vue;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">global</span> !== <span class="hljs-string">&#x27;undefined&#x27;</span>) &#123;<br>    GlobalVue = <span class="hljs-built_in">global</span>.Vue;<br>&#125;<br><span class="hljs-keyword">if</span> (GlobalVue) &#123;<br>    GlobalVue.use(plugin);<br>&#125;<br><br><span class="hljs-comment">// To allow use as module (npm/webpack/etc.) export component</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> component;<br></code></pre></td></tr></table></figure>

<p>Notice the first line directly imports your SFC, and the last line exports it unchanged. As indicated by the comments in the rest of the code, the wrapper provides an <code>install</code> function for Vue, then attempts to detect Vue and automatically install the component. With 90% of the work done, it’s time to sprint to the finish!</p>
<h3 id="How-do-I-configure-the-Rollup-build"><a href="#How-do-I-configure-the-Rollup-build" class="headerlink" title="How do I configure the Rollup build?"></a>How do I configure the Rollup build?</h3><p>With the package.json <code>scripts</code> section ready and the SFC wrapper in place, all that is left is to ensure Rollup is properly configured. Fortunately, this can be done with a small 16 line rollup.config.js file:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> commonjs <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rollup-plugin-commonjs&#x27;</span>; <span class="hljs-comment">// Convert CommonJS modules to ES6</span><br><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rollup-plugin-vue&#x27;</span>; <span class="hljs-comment">// Handle .vue SFC files</span><br><span class="hljs-keyword">import</span> buble <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;rollup-plugin-buble&#x27;</span>; <span class="hljs-comment">// Transpile/polyfill with reasonable browser support</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    input: <span class="hljs-string">&#x27;src/wrapper.js&#x27;</span>, <span class="hljs-comment">// Path relative to package.json</span><br>    output: &#123;<br>        name: <span class="hljs-string">&#x27;MyComponent&#x27;</span>,<br>        <span class="hljs-built_in">exports</span>: <span class="hljs-string">&#x27;named&#x27;</span>,<br>    &#125;,<br>    plugins: [<br>        commonjs(),<br>        vue(&#123;<br>            css: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Dynamically inject css as a &lt;style&gt; tag</span><br>            compileTemplate: <span class="hljs-literal">true</span>, <span class="hljs-comment">// Explicitly convert template to render function</span><br>        &#125;),<br>        buble(), <span class="hljs-comment">// Transpile to ES5</span><br>    ],<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>This sample config file contains the minimum settings to package your SFC for npm. There is room for customization, such as extracting CSS to a separate file, using a CSS preprocessor, uglifying the JS output, etc.</p>
<p>Also, it is worth noting the <code>name</code> given the component here. This is a PascalCase name that the component will be given, and should correspond with the kebab-case name used elsewhere throughout this recipe.</p>
<h3 id="Will-this-replace-my-current-development-process"><a href="#Will-this-replace-my-current-development-process" class="headerlink" title="Will this replace my current development process?"></a>Will this replace my current development process?</h3><p>The configuration here is not meant to replace the development process that you currently use. If you currently have a webpack setup with hot module reloading (HMR), keep using it! If you’re starting from scratch, feel free to install <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-cli/">Vue CLI 3</a>, which will give you the whole HMR experience config free:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><code class="hljs bash">vue serve --open src/my-component.vue<br></code></pre></td></tr></table></figure>

<p>In other words, do all of your development in whatever way you are comfortable. The things outlined in this recipe are more like ‘finishing touches’ than a full dev process.</p>
<h2 id="When-to-Avoid-this-Pattern"><a href="#When-to-Avoid-this-Pattern" class="headerlink" title="When to Avoid this Pattern"></a>When to Avoid this Pattern</h2><p>Packaging SFCs in this manner might not be a good idea in certain scenarios. This recipe doesn’t go into detail on how the components themselves are written. Some components might provide side effects like directives, or extend other libraries with additional functionality. In those cases, you will need to evaluate whether or not the changes required to this recipe are too extensive.</p>
<p>In addition, pay attention to any dependencies that your SFC might have. For example, if you require a third party library for sorting or communication with an API, Rollup might roll those packages into the final code if not properly configured. To continue using this recipe, you would need to configure Rollup to exclude those files from the output, then update your documentation to inform your users about these dependencies.</p>
<h2 id="Alternative-Patterns"><a href="#Alternative-Patterns" class="headerlink" title="Alternative Patterns"></a>Alternative Patterns</h2><p>At the time this recipe was written, Vue CLI 3 was itself in beta. This version of the CLI comes with a built-in <code>library</code> build mode, which creates CommonJS and UMD versions of a component. This might be adequate for your use cases, though you will still need to make sure your package.json file points to <code>main</code> and <code>unpkg</code> properly. Also, there will be no ES6 <code>module</code> output unless that capability is added to the CLI before its release or via plugin.</p>
<h2 id="Acknowledgements"><a href="#Acknowledgements" class="headerlink" title="Acknowledgements"></a>Acknowledgements</h2><p>This recipe is the result of a lightning talk given by <a target="_blank" rel="noopener" href="https://twitter.com/webdevdodge">Mike Dodge</a> at VueConf.us in March 2018. He has published a utility to npm which will quickly scaffold a sample SFC using this recipe. You can download the utility, <a target="_blank" rel="noopener" href="https://www.npmjs.com/package/vue-sfc-rollup">vue-sfc-rollup</a>, from npm. You can also <a target="_blank" rel="noopener" href="https://github.com/team-innovation/vue-sfc-rollup">clone the repo</a> and customize it.</p>

  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div id="bsa-native"></div>
<script>
_bsa.init('custom', 'CKYD62QM', 'placement:vuejsorg',
  {
    target: '#bsa-native',
    template: '<a class="native-box" href="##statlink##"><div class="native-sponsor">Sponsor</div><div class="native-text"><strong>##company##</strong> — ##description##</div></a>'
  }
);
</script>


    이 문서에 문제를 제보하거나 기여하고 싶은 부분이 있으십니까?
    <a href="https://github.com/vuejs-kr/kr.vuejs.org/blob/master/src/v2/cookbook/packaging-sfc-for-npm.md" rel="noopener" target="_blank">
      Github에서 이 페이지를 수정하세요!
    </a>
  </div>
</div>

      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    
<link rel="stylesheet" href="/css/search.css">

    <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] },
      autocompleteOptions: { hint: false, appendTo: 'body'}
      })
    })
    </script>
  </body>
</html>




<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Practical use of scoped slots with GoogleMaps — Vue.js</title>
    <meta charset="utf-8">
    <meta name="description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" hreflang="x-default" href="https://vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="zh" href="https://cn.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="ja" href="https://jp.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="ru" href="https://ru.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="ko" href="https://kr.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="pt-BR" href="https://br.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="fr" href="https://fr.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">
    <link rel="alternate" hreflang="es" href="https://es.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Practical use of scoped slots with GoogleMaps — Vue.js">
    <meta property="og:description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta property="og:image" content="https://vuejs.org//images/logo.png">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Practical use of scoped slots with GoogleMaps — Vue.js">
    <meta name="twitter:description" content="Vue.js - 프로그레시브 자바스크립트 프레임워크">
    <meta name="twitter:image" content="https://vuejs.org/images/logo.png">

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png">
    <meta name="msapplication-TileImage" content="/images/icons/ms-icon-144x144.png">
    <link rel="icon" href="/images/logo.png" type="image/png">

    <meta name="msapplication-TileColor" content="#4fc08d">
    <meta name="theme-color" content="#4fc08d">

    <meta name="msapplication-config" content="browserconfig.xml">
    <link rel="manifest" href="/manifest.json">

    <link href="https://fonts.googleapis.com" rel="preconnect" crossorigin>
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://maxcdn.bootstrapcdn.com" rel="preconnect" crossorigin>

    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono&display=swap' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Dosis:500&text=Vue.js&display=swap' rel='stylesheet' type='text/css'>

    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- main page styles -->
    
<link rel="stylesheet" href="/css/page.css">


    <!-- this needs to be loaded before guide's inline scripts -->
    <script src="/js/vue.js"></script>

    

    <script>
      Vue.config.productionTip = false
      window.PAGE_TYPE = "cookbook"
    </script>

    <!-- ga -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-89623208-1', 'vuejs.org');
      ga('send', 'pageview');
    </script>

    <!-- vimeo analytics -->
    <script type="text/javascript" defer="defer" src="https://extend.vimeocdn.com/ga/72160148.js"></script>
  <meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="Vue.js" type="application/atom+xml">
</head>
  <body class="docs">
    <div id="mobile-bar" style="pointer-events: none;" >
      <a class="menu-button"></a>
      <a class="logo" href="/"></a>
    </div>
    

    <div id="header">
  <a id="logo" href="/">
    <img src="/images/logo.png" alt="vue logo">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    
<li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" aria-label="Search">
  </form>
</li>
<li class="nav-dropdown-container learn">
  <a class="nav-link current">배우기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>문서</h4></li>
    <li>
      <ul>
        <li><a href="/v2/guide/" class="nav-link">가이드</a></li>
        <li><a href="/v2/api/" class="nav-link">API</a></li>
        <li><a href="/v2/style-guide/" class="nav-link">스타일 가이드</a></li>
        <li><a href="/v2/examples/" class="nav-link">예시</a></li>
        <li><a href="/v2/cookbook/" class="nav-link current">쿡북</a></li>
        <li><a target="_blank" rel="noopener" href="https://v3.vuejs-korea.org/ko-KR/" class="nav-lin>">Vue.js 3 한국어문서</a></li>
      </ul>
    </li>
    <li><h4>영상 강의</h4></li>
    <li>
      <ul>
        <li>
          <a href="https://www.vuemastery.com/courses/" class="nav-link" target="_blank" rel="sponsored noopener">
            Vue Mastery
          </a>
        </li>
        <li>
          <a
            href="https://vueschool.io/?friend=vuejs&utm_source=Vuejs.org&utm_medium=Link&utm_content=Navbar%20Dropdown"
            class="nav-link"
            target="_blank" rel="sponsored noopener"
          >
            Vue School
          </a>
        </li>
      </ul>
    </li>

  </ul>
</li>

<li class="nav-dropdown-container ecosystem">
  <a class="nav-link">생태계</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><h4>도움</h4></li>
    <li><ul>
      <li><a href="http://forum.vuejs.org/" class="nav-link"  target="_blank" rel="noopener">포럼</a></li>
      <li><a href="https://chat.vuejs.org/" class="nav-link"  target="_blank" rel="noopener">채팅</a></li>
      <li><a href="https://events.vuejs.org/meetups/" class="nav-link" target="_blank" rel="noopener">모임</a></li>
    </ul></li>
    <li><h4>도구</h4></li>
    <li>
      <ul>
        <li><a href="https://github.com/vuejs/vue-devtools" class="nav-link" target="_blank" rel="noopener">개발도구</a></li>
        <li><a href="https://cli.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue CLI</a></li>
        <li><a href="https://vue-loader.vuejs.org" class="nav-link" target="_blank" rel="noopener">Vue Loader</a></li>
      </ul>
    </li>
    <li><h4>코어 라이브러리</h4></li>
    <li><ul>
      <li><a href="https://router.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue 라우터</a></li>
      <li><a href="https://vuex.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vuex</a></li>
      <li><a href="https://ssr.vuejs.org/" class="nav-link" target="_blank" rel="noopener">Vue 서버 렌더러</a></li>
    </ul></li>
    <li><h4>뉴스</h4></li>
    <li><ul>
      <li><a href="https://news.vuejs.org" class="nav-link" target="_blank" rel="noopener">주간 뉴스</a></li>
      <li><a href="https://github.com/vuejs/roadmap" class="nav-link" target="_blank" rel="noopener">로드맵</a></li>
      <li><a href="https://events.vuejs.org/" class="nav-link" target="_blank" rel="noopener">이벤트</a></li>
      <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank" rel="noopener">트위터</a></li>
      <li><a href="https://medium.com/the-vue-point" class="nav-link" target="_blank" rel="noopener">블로그</a></li>
      <li><a href="https://vuejobs.com/?ref=vuejs" class="nav-link" target="_blank" rel="noopener">구인</a></li>
      <li><a href="https://dev.to/t/vue" class="nav-link" target="_blank" rel="noopener">개발 커뮤니티</a></li>
    </ul></li>
  </ul>
</li>

<li>
  <a href="/v2/guide/team.html" class="nav-link team">팀</a>
</li>
<li class="nav-dropdown-container resources">
  <a href="#" class="nav-link">리소스</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/resources/partners.html" class="nav-link">파트너</a></li>
    <li><a href="/resources/themes.html" class="nav-link">테마</a></li>
    <li><a href="https://github.com/vuejs/awesome-vue" class="nav-link" target="_blank" rel="noopener">쩌는 Vue</a></li>
  </ul>
</li>

<!-- <li>
  <a href="/partners" class="nav-link ">Partners</a>
</li> -->
<li class="nav-dropdown-container support-vue">
  <a href="/support-vuejs/" class="nav-link">Vue 후원하기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="/support-vuejs/#One-time-Donations" class="nav-link">1회 후원하기</a></li>
    <li><a href="/support-vuejs/#Recurring-Pledges" class="nav-link">정기후원</a></li>
    <li><a href="https://vue.threadless.com" target="_blank" rel="noopener" class="nav-link">티셔츠 샵</a></li>
  </ul>
</li>

<li class="nav-dropdown-container language">
  <a class="nav-link">다른 언어로 보기</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">English</a></li>
    <li><a href="https://cn.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">中文</a></li>
    <li><a href="https://jp.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">日本語</a></li>
    <li><a href="https://ru.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">Русский</a></li>
    <li><a href="https://br.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">Português</a></li>
    <li><a href="https://fr.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">Français</a></li>
    <li><a href="https://vi.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener">Tiếng Việt</a></li>
    <li><a href="https://es.vuejs.org/v2/cookbook/practical-use-of-scoped-slots.html" class="nav-link" target="_blank" rel="noopener" rel="noopener">Español</a></li>
  </ul>
</li>


  </ul>
</div>

    
      <div id="main" class="fix-sidebar">
        
  

<div class="sidebar">
  <div class="sidebar-inner">
    
    <div class="list">
      <div id="sidebar-sponsors-special">
  <div class="main-sponsor">
    <span>스페셜 스폰서</span>
    <div>
    <a href="https://stdlib.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/stdlib.png" alt="Standard Library">
    </a>
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-left">
  <div class="main-sponsor">
    <span>플래티넘 스폰서</span>
    <div>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/nativescript.png" alt="NativeScript">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    스폰서 되기
  </a>
</div>



      
        <h2>
          
          쿡북<sup class="beta">beta</sup>
          
        </h2>
        <ul class="menu-root">
  
    
    
    <li>
      <a href="/v2/cookbook/index.html" class="sidebar-link">Introduction</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/adding-instance-properties.html" class="sidebar-link">인스턴스 프로퍼티 추가하기</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/form-validation.html" class="sidebar-link">Form Validation</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/editable-svg-icons.html" class="sidebar-link">Editable SVG Icon Systems</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/serverless-blog.html" class="sidebar-link">Create a CMS-Powered Blog</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/unit-testing-vue-components.html" class="sidebar-link">Unit Testing Vue Components</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/creating-custom-scroll-directives.html" class="sidebar-link">Creating Custom Scroll Directives</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/debugging-in-vscode.html" class="sidebar-link">Debugging in VS Code</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/using-axios-to-consume-apis.html" class="sidebar-link">Using Axios to Consume APIs</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/avoiding-memory-leaks.html" class="sidebar-link">Avoiding Memory Leaks</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/client-side-storage.html" class="sidebar-link">Client-Side Storage</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/packaging-sfc-for-npm.html" class="sidebar-link">Packaging Vue Components for npm</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/dockerize-vuejs-app.html" class="sidebar-link">Dockerize Vue.js App</a>
    </li>
  
    
    
    <li>
      <a href="/v2/cookbook/practical-use-of-scoped-slots.html" class="sidebar-link current">Practical use of scoped slots with GoogleMaps</a>
    </li>
  
</ul>

      
    </div>
  </div>
</div>

<div id="sidebar-sponsors-platinum-right">
  <div class="main-sponsor">
    <span>플래티넘 스폰서</span>
    <div>
    <a href="https://vueschool.io/?utm_source=Vuejs.org&utm_medium=Banner&utm_campaign=Sponsored%20Banner&utm_content=V1" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vueschool.png" alt="VueSchool">
    </a>
    <a href="https://vehikl.com/" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/vehikl.png" alt="Vehikl">
    </a>
    <a href="https://www.nativescript.org/vue?utm_source=vue-js-org&utm_medium=website&utm_campaign=nativescript-awareness" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/nativescript.png" alt="NativeScript">
    </a>
    <a href="https://retool.com/?utm_source=sponsor&utm_campaign=vue" target="_blank" rel="sponsored noopener" class="logo">
      <img src="/images/retool.png" alt="Retool">
    </a>
    </div>
  </div>
  <a class="become-backer" href="/support-vuejs">
    스폰서 되기
  </a>
</div>




<div class="content cookbook with-sidebar ">
  
    
      
<div id="ad">
  <script
    async
    type="text/javascript"
    src="//cdn.carbonads.com/carbon.js?serve=CKYIK2QU&placement=vuejsorg"
    id="_carbonads_js">
  </script>
</div>


    
  
  
    <h1>Practical use of scoped slots with GoogleMaps</h1>
  
  
    <h2 id="Base-Example"><a href="#Base-Example" class="headerlink" title="Base Example"></a>Base Example</h2><p>There are situations when you want the template inside the slot to be able to access data from the child component that is responsible for rendering the slot content. This is particularly useful when you need freedom in creating custom templates that use the child component’s data properties. That is a typical use case for scoped slots.</p>
<p>Imagine a component that configures and prepares an external API to be used in another component, but is not tightly coupled with any specific template. Such a component could then be reused in multiple places rendering different templates but using the same base object with specific API.</p>
<p>We’ll create a component (<code>GoogleMapLoader.vue</code>) that:</p>
<ol>
<li>Initializes the <a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/reference/">Google Maps API</a></li>
<li>Creates <code>google</code> and <code>map</code> objects</li>
<li>Exposes those objects to the parent component in which the <code>GoogleMapLoader</code> is used</li>
</ol>
<p>Below is an example of how this can be achieved. We will analyze the code piece-by-piece and see what is actually happening in the next section.</p>
<p>Let’s first establish our <code>GoogleMapLoader.vue</code> template:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;google-map&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;googleMap&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;Boolean(this.google) &amp;&amp; Boolean(this.map)&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:google</span>=<span class="hljs-string">&quot;google&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:map</span>=<span class="hljs-string">&quot;map&quot;</span></span><br><span class="hljs-tag">      /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Now, our script needs to pass some props to the component which allows us to set the <a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/reference/">Google Maps API</a> and <a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/reference/map#Map">Map object</a>:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> GoogleMapsApiLoader <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;google-maps-api-loader&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  props: &#123;<br>    mapConfig: <span class="hljs-built_in">Object</span>,<br>    apiKey: <span class="hljs-built_in">String</span>,<br>  &#125;,<br><br>  data() &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      google: <span class="hljs-literal">null</span>,<br>      map: <span class="hljs-literal">null</span><br>    &#125;<br>  &#125;,<br><br>  <span class="hljs-keyword">async</span> mounted() &#123;<br>    <span class="hljs-keyword">const</span> googleMapApi = <span class="hljs-keyword">await</span> GoogleMapsApiLoader(&#123;<br>      apiKey: <span class="hljs-built_in">this</span>.apiKey<br>    &#125;)<br>    <span class="hljs-built_in">this</span>.google = googleMapApi<br>    <span class="hljs-built_in">this</span>.initializeMap()<br>  &#125;,<br><br>  methods: &#123;<br>    initializeMap() &#123;<br>      <span class="hljs-keyword">const</span> mapContainer = <span class="hljs-built_in">this</span>.$refs.googleMap<br>      <span class="hljs-built_in">this</span>.map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">this</span>.google.maps.Map(<br>        mapContainer, <span class="hljs-built_in">this</span>.mapConfig<br>      )<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>This is just part of a working example, you can find the whole example in the Codesandbox below.</p>
<iframe src="https://codesandbox.io/embed/1o45zvxk0q" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>

<h2 id="Real-World-Example-Creating-a-Google-Map-Loader-component"><a href="#Real-World-Example-Creating-a-Google-Map-Loader-component" class="headerlink" title="Real-World Example: Creating a Google Map Loader component"></a>Real-World Example: Creating a Google Map Loader component</h2><h3 id="1-Create-a-component-that-initializes-our-map"><a href="#1-Create-a-component-that-initializes-our-map" class="headerlink" title="1. Create a component that initializes our map"></a>1. Create a component that initializes our map</h3><p><code>GoogleMapLoader.vue</code></p>
<p>In the template, we create a container for the map which will be used to mount the <a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/reference/map#Map">Map</a> object extracted from the Google Maps API.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;google-map&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;googleMap&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Next up, our script needs to receive props from the parent component which will allow us to set the Google Map. Those props consist of:</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/reference/3/map#MapOptions">mapConfig</a>: Google Maps config object</li>
<li><a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/javascript/get-api-key">apiKey</a>: Our personal api key required by Google Maps</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> GoogleMapsApiLoader <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;google-maps-api-loader&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  props: &#123;<br>    mapConfig: <span class="hljs-built_in">Object</span>,<br>    apiKey: <span class="hljs-built_in">String</span>,<br>  &#125;,<br></code></pre></td></tr></table></figure>
<p>Then, we set the initial values of google and map to null:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">data() &#123;<br>  <span class="hljs-keyword">return</span> &#123;<br>    google: <span class="hljs-literal">null</span>,<br>    map: <span class="hljs-literal">null</span><br>  &#125;<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>On <code>mounted</code> hook we instantiate a <code>googleMapApi</code> and <code>Map</code> objects from the <code>GoogleMapsApi</code> and we set the values of <code>google</code> and <code>map</code> to the created instances:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">  <span class="hljs-keyword">async</span> mounted() &#123;<br>    <span class="hljs-keyword">const</span> googleMapApi = <span class="hljs-keyword">await</span> GoogleMapsApiLoader(&#123;<br>      apiKey: <span class="hljs-built_in">this</span>.apiKey<br>    &#125;)<br>    <span class="hljs-built_in">this</span>.google = googleMapApi<br>    <span class="hljs-built_in">this</span>.initializeMap()<br>  &#125;,<br><br>  methods: &#123;<br>    initializeMap() &#123;<br>      <span class="hljs-keyword">const</span> mapContainer = <span class="hljs-built_in">this</span>.$refs.googleMap<br>      <span class="hljs-built_in">this</span>.map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">this</span>.google.maps.Map(mapContainer, <span class="hljs-built_in">this</span>.mapConfig)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>So far, so good. With all that done, we could continue adding the other objects to the map (Markers, Polylines, etc.) and use it as an ordinary map component.</p>
<p>But, we want to use our <code>GoogleMapLoader</code> component only as a loader that prepares the map — we don’t want to render anything on it.</p>
<p>To achieve that, we need to allow the parent component that will use our <code>GoogleMapLoader</code> to access <code>this.google</code> and <code>this.map</code> that are set inside the <code>GoogleMapLoader</code> component. That’s where <a href="https://vuejs.org/v2/guide/components-slots.html#Scoped-Slots">scoped slots</a> really shine. Scoped slots allow us to expose the properties set in a child component to the parent component. It may sound like Inception, but bear with me one more minute as we break that down further.</p>
<h3 id="2-Create-component-that-uses-our-initializer-component"><a href="#2-Create-component-that-uses-our-initializer-component" class="headerlink" title="2. Create component that uses our initializer component."></a>2. Create component that uses our initializer component.</h3><p><code>TravelMap.vue</code></p>
<p>In the template, we render the <code>GoogleMapLoader</code> component and pass props that are required to initialize the map.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">GoogleMapLoader</span></span><br><span class="hljs-tag">    <span class="hljs-attr">:mapConfig</span>=<span class="hljs-string">&quot;mapConfig&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">apiKey</span>=<span class="hljs-string">&quot;yourApiKey&quot;</span></span><br><span class="hljs-tag">  /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Our script tag will look like this:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js">&lt;script&gt;<br><span class="hljs-keyword">import</span> GoogleMapLoader <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./GoogleMapLoader&#x27;</span><br><span class="hljs-keyword">import</span> &#123; mapSettings &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/constants/mapSettings&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  components: &#123;<br>    GoogleMapLoader<br>  &#125;,<br><br>  computed: &#123;<br>    mapConfig () &#123;<br>      <span class="hljs-keyword">return</span> &#123;<br>        ...mapSettings,<br>        center: &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">0</span> &#125;<br>      &#125;<br>    &#125;,<br>  &#125;,<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>Still no scoped slots, so let’s add one.</p>
<h3 id="3-Expose-google-and-map-properties-to-the-parent-component-by-adding-a-scoped-slot"><a href="#3-Expose-google-and-map-properties-to-the-parent-component-by-adding-a-scoped-slot" class="headerlink" title="3. Expose google and map properties to the parent component by adding a scoped slot."></a>3. Expose <code>google</code> and <code>map</code> properties to the parent component by adding a scoped slot.</h3><p>Finally, we can add a scoped slot that will do the job and allow us to access the child component props in the parent component. We do that by adding the <code>&lt;slot&gt;</code> tag in the child component and passing the props that we want to expose (using <code>v-bind</code> directive or <code>:propName</code> shorthand). It does not differ from passing the props down to the child component, but doing it in the <code>&lt;slot&gt;</code> tag will reverse the direction of data flow.</p>
<p><code>GoogleMapLoader.vue</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;google-map&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;googleMap&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;Boolean(this.google) &amp;&amp; Boolean(this.map)&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">slot</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:google</span>=<span class="hljs-string">&quot;google&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:map</span>=<span class="hljs-string">&quot;map&quot;</span></span><br><span class="hljs-tag">      /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Now, when we have the slot in the child component, we need to receive and consume the exposed props in the parent component.</p>
<h3 id="4-Receive-exposed-props-in-the-parent-component-using-slot-scope-attribute"><a href="#4-Receive-exposed-props-in-the-parent-component-using-slot-scope-attribute" class="headerlink" title="4. Receive exposed props in the parent component using slot-scope attribute."></a>4. Receive exposed props in the parent component using <code>slot-scope</code> attribute.</h3><p>To receive the props in the parent component, we declare a template element and use the <code>slot-scope</code> attribute. This attribute has access to the object carrying all the props exposed from the child component. We can grab the whole object or we can <a href="https://vuejs.org/v2/guide/components-slots.html#Destructuring-slot-scope">de-structure that object</a> and only what we need.</p>
<p>Let’s de-structure this thing to get what we need.</p>
<p><code>TravelMap.vue</code></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMapLoader</span></span><br><span class="hljs-tag">  <span class="hljs-attr">:mapConfig</span>=<span class="hljs-string">&quot;mapConfig&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">apiKey</span>=<span class="hljs-string">&quot;yourApiKey&quot;</span></span><br><span class="hljs-tag">&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;&#123; google, map &#125;&quot;</span>&gt;</span><br>      &#123;&#123; map &#125;&#125;<br>      &#123;&#123; google &#125;&#125;<br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">GoogleMapLoader</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>Even though the <code>google</code> and <code>map</code> props do not exist in the <code>TravelMap</code> scope, the component has access to them and we can use them in the template.</p>
<p>You might wonder why would we do things like that and what is the use of all that?</p>
<p>Scoped slots allow us to pass a template to the slot instead of a rendered element. It’s called a <code>scoped</code> slot because it will have access to certain child component data even though the template is rendered in the parent component scope. This gives us the freedom to fill the template with custom content from the parent component.</p>
<h3 id="5-Create-factory-components-for-Markers-and-Polylines"><a href="#5-Create-factory-components-for-Markers-and-Polylines" class="headerlink" title="5. Create factory components for Markers and Polylines"></a>5. Create factory components for Markers and Polylines</h3><p>Now when we have our map ready we will create two factory components that will be used to add elements to the <code>TravelMap</code>.</p>
<p><code>GoogleMapMarker.vue</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; POINT_MARKER_ICON_CONFIG &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/constants/mapSettings&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  props: &#123;<br>    google: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;,<br>    map: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;,<br>    marker: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;<br>  &#125;,<br><br>  mounted() &#123;<br>    <span class="hljs-keyword">new</span> <span class="hljs-built_in">this</span>.google.maps.Marker(&#123;<br>      position: <span class="hljs-built_in">this</span>.marker.position,<br>      marker: <span class="hljs-built_in">this</span>.marker,<br>      map: <span class="hljs-built_in">this</span>.map,<br>      icon: POINT_MARKER_ICON_CONFIG<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>GoogleMapLine.vue</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; LINE_PATH_CONFIG &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/constants/mapSettings&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  props: &#123;<br>    google: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;,<br>    map: &#123;<br>      type: <span class="hljs-built_in">Object</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;,<br>    path: &#123;<br>      type: <span class="hljs-built_in">Array</span>,<br>      required: <span class="hljs-literal">true</span><br>    &#125;<br>  &#125;,<br><br>  mounted() &#123;<br>    <span class="hljs-keyword">new</span> <span class="hljs-built_in">this</span>.google.maps.Polyline(&#123;<br>      path: <span class="hljs-built_in">this</span>.path,<br>      map: <span class="hljs-built_in">this</span>.map,<br>      ...LINE_PATH_CONFIG<br>    &#125;)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>Both of these receive <code>google</code> that we use to extract the required object (Marker or Polyline) as well as <code>map</code> which gives as a reference to the map on which we want to place our element.</p>
<p>Each component also expects an extra prop to create a corresponding element. In this case, we have <code>marker</code> and <code>path</code>, respectively.</p>
<p>On the mounted hook, we create an element (Marker/Polyline) and attach it to our map by passing the <code>map</code> property to the object constructor.</p>
<p>There’s still one more step to go…</p>
<h3 id="6-Add-elements-to-map"><a href="#6-Add-elements-to-map" class="headerlink" title="6. Add elements to map"></a>6. Add elements to map</h3><p>Let’s use our factory components to add elements to our map. We must render the factory component and pass the <code>google</code> and <code>map</code> objects so data flows to the right places.</p>
<p>We also need to provide the data that’s required by the element itself. In our case, that’s the <code>marker</code> object with the position of the marker and the <code>path</code> object with Polyline coordinates.</p>
<p>Here we go, integrating the data points directly into the template:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">GoogleMapLoader</span></span><br><span class="hljs-tag">  <span class="hljs-attr">:mapConfig</span>=<span class="hljs-string">&quot;mapConfig&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">apiKey</span>=<span class="hljs-string">&quot;yourApiKey&quot;</span></span><br><span class="hljs-tag">&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;&#123; google, map &#125;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">GoogleMapMarker</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;marker in markers&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;marker.id&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:marker</span>=<span class="hljs-string">&quot;marker&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:google</span>=<span class="hljs-string">&quot;google&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:map</span>=<span class="hljs-string">&quot;map&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">GoogleMapLine</span></span><br><span class="hljs-tag">      <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;line in lines&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;line.id&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:path.sync</span>=<span class="hljs-string">&quot;line.path&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:google</span>=<span class="hljs-string">&quot;google&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:map</span>=<span class="hljs-string">&quot;map&quot;</span></span><br><span class="hljs-tag">    /&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">GoogleMapLoader</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>We need to import the required factory components in our script and set the data that will be passed to the markers and lines:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; mapSettings &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/constants/mapSettings&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  components: &#123;<br>    GoogleMapLoader,<br>    GoogleMapMarker,<br>    GoogleMapLine<br>  &#125;,<br><br>  data () &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      markers: [<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-attr">position</span>: &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">101</span> &#125; &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-attr">position</span>: &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">99</span> &#125; &#125;,<br>      &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-attr">position</span>: &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">97</span> &#125; &#125;,<br>      ],<br>      lines: [<br>        &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-attr">path</span>: [&#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">101</span> &#125;, &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">99</span> &#125;] &#125;,<br>        &#123; <span class="hljs-attr">id</span>: <span class="hljs-string">&#x27;2&#x27;</span>, <span class="hljs-attr">path</span>: [&#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">5</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">99</span> &#125;, &#123; <span class="hljs-attr">lat</span>: <span class="hljs-number">6</span>, <span class="hljs-attr">lng</span>: <span class="hljs-number">97</span> &#125;] &#125;<br>      ],<br>    &#125;<br>  &#125;,<br><br>  computed: &#123;<br>    mapConfig () &#123;<br>      <span class="hljs-keyword">return</span> &#123;<br>        ...mapSettings,<br>        center: <span class="hljs-built_in">this</span>.mapCenter<br>      &#125;<br>    &#125;,<br><br>    mapCenter () &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.markers[<span class="hljs-number">1</span>].position<br>    &#125;<br>  &#125;,<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="When-To-Avoid-This-Pattern"><a href="#When-To-Avoid-This-Pattern" class="headerlink" title="When To Avoid This Pattern"></a>When To Avoid This Pattern</h2><p>It might be tempting to create a very complex solution based on the example, but at some point we can get to the situation where this abstraction becomes an independent part of the code living in our codebase. If we get to that point it might be worth considering extraction to an add-on.</p>
<h2 id="Wrapping-Up"><a href="#Wrapping-Up" class="headerlink" title="Wrapping Up"></a>Wrapping Up</h2><p>That’s it. With all those bits and pieces created we can now re-use the <code>GoogleMapLoader</code> component as a base for all our maps by passing different templates to each one of them. Imagine that you need to create another map with different Markers or just Markers without Polylines. By using the above pattern it becomes very easy as we just need to pass different content to the <code>GoogleMapLoader</code> component.</p>
<p>This pattern is not strictly connected to Google Maps; it can be used with any library to set the base component and expose the library’s API that might be then used in the component that summoned the base component.</p>

  
  
  <div class="footer">
      <script src="//m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
<div id="bsa-native"></div>
<script>
_bsa.init('custom', 'CKYD62QM', 'placement:vuejsorg',
  {
    target: '#bsa-native',
    template: '<a class="native-box" href="##statlink##"><div class="native-sponsor">Sponsor</div><div class="native-text"><strong>##company##</strong> — ##description##</div></a>'
  }
);
</script>


    이 문서에 문제를 제보하거나 기여하고 싶은 부분이 있으십니까?
    <a href="https://github.com/vuejs-kr/kr.vuejs.org/blob/master/src/v2/cookbook/practical-use-of-scoped-slots.md" rel="noopener" target="_blank">
      Github에서 이 페이지를 수정하세요!
    </a>
  </div>
</div>

      </div>
      <script src="/js/smooth-scroll.min.js"></script>
    

    <!-- main custom script for sidebars, version selects etc. -->
    <script src="/js/css.escape.js"></script>
    <script src="/js/common.js"></script>

    <!-- search -->
    <link href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
    
<link rel="stylesheet" href="/css/search.css">

    <script src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
    <script>
    [
      '#search-query-nav',
      '#search-query-sidebar',
      '#search-query-menu'
    ].forEach(function (selector) {
      if (!document.querySelector(selector)) return
      // search index defaults to v2
      var match = window.location.pathname.match(/^\/(v\d+)/)
      var version = match ? match[1] : 'v2'
      docsearch({
      appId: 'BH4D9OD16A',
      apiKey: '85cc3221c9f23bfbaa4e3913dd7625ea',
      indexName: 'vuejs',
      inputSelector: selector,
      algoliaOptions: { facetFilters: ["version:" + version] },
      autocompleteOptions: { hint: false, appendTo: 'body'}
      })
    })
    </script>
  </body>
</html>
